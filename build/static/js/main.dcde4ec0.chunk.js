(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{13:function(e,n,t){},15:function(e,n,t){e.exports=t(37)},37:function(e,n,t){"use strict";t.r(n);var a=t(0),u=t.n(a),r=t(14),l=t.n(r),o=t(2),c=t(3),i=t.n(c),s="https://whispering-beach-90642.herokuapp.com/api/persons",m=function(){return i.a.get(s).then((function(e){return e.data}))},d=function(e){return i.a.post(s,e).then((function(e){return e.data}))},f=function(e,n){return i.a.put("".concat(s,"/").concat(e),n).then((function(e){return e.data}))},h=function(e){return i.a.delete(s+"/"+e).then((function(e){return e.data}))},p=function(e){var n=e.persons,t=e.setPersons,r=e.handleMessageChange,l=Object(a.useState)(""),c=Object(o.a)(l,2),i=c[0],s=c[1],m=Object(a.useState)(""),h=Object(o.a)(m,2),p=h[0],v=h[1];return u.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a={name:i,number:p},u=n.find((function(e){return e.name===a.name}));null!=u?window.confirm("Do you really want to update "+i+"?")&&(f(u.id,a).then((function(e){t(n.map((function(n){return n.id===u.id?e:n})))})),r("Updated","update")):d(a).then((function(e){t(n.concat(e)),r("New person added","add")}))}},u.a.createElement("div",null,"name:",u.a.createElement("input",{value:i,onChange:function(e){s(e.target.value)}}),u.a.createElement("br",null),"number :",u.a.createElement("input",{value:p,onChange:function(e){v(e.target.value)}})),u.a.createElement("div",null,u.a.createElement("button",{type:"submit"},"add")))},v=function(e){var n=e.setFilter;return u.a.createElement(u.a.Fragment,null,u.a.createElement("p",null,"Filter shown with"),u.a.createElement("input",{onChange:function(e){var t=e.target.value;n(""===t?null:t)}}))},E=function(e){var n=e.name,t=e.number,a=e.handleRemoveEvent;return u.a.createElement("li",null,n,": ",t,u.a.createElement("button",{onClick:a},"Remove"))},b=(t(13),function(e){var n=e.message,t=e.style;return null===n?null:u.a.createElement("div",{className:t},n)}),g=function(){var e=Object(a.useState)([]),n=Object(o.a)(e,2),t=n[0],r=n[1],l=Object(a.useState)(null),c=Object(o.a)(l,2),i=c[0],s=c[1],d=Object(a.useState)({message:null,style:"nada"}),f=Object(o.a)(d,2),g=f[0],w=f[1];Object(a.useEffect)((function(){m().then((function(e){return r(e)}))}),[]);var y=function(e,n){w({message:e,style:n}),setTimeout((function(){w({msg:null,style:"uusi"})}),2500)},j=t.filter((function(e){return null===i||!!e.name.toLowerCase().includes(i.toLowerCase())}));return console.log(g),u.a.createElement("div",null,u.a.createElement(b,{message:g.message,style:g.style}),u.a.createElement("h2",null,"Phonebook"),u.a.createElement(v,{setFilter:s}),u.a.createElement("h2",null,"Add new"),u.a.createElement(p,{persons:t,setPersons:r,handleMessageChange:y}),u.a.createElement("h2",null,"Numbers"),u.a.createElement("ul",null,j.map((function(e){return u.a.createElement(E,{key:e.id,name:e.name,number:e.number,handleRemoveEvent:function(){return n=e.id,void(window.confirm("Are you sure you want to delete ".concat(t.find((function(e){return e.id===n})).name,"?"))&&(h(n).then(r(t.filter((function(e){return e.id!==n})))),y("Removed","remove")));var n}})}))))};l.a.render(u.a.createElement(g,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.dcde4ec0.chunk.js.map