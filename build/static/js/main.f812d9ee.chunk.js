(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{13:function(e,n,t){},15:function(e,n,t){e.exports=t(37)},37:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),u=t(14),l=t.n(u),o=t(2),c=t(3),i=t.n(c),s="/api/persons",m=function(){return i.a.get(s).then((function(e){return e.data}))},d=function(e){return i.a.post(s,e).then((function(e){return e.data}))},f=function(e,n){return i.a.put("".concat(s,"/").concat(e),n).then((function(e){return e.data}))},h=function(e){return i.a.delete(s+"/"+e).then((function(e){return e.data}))},v=function(e){var n=e.persons,t=e.setPersons,u=e.handleMessageChange,l=Object(a.useState)(""),c=Object(o.a)(l,2),i=c[0],s=c[1],m=Object(a.useState)(""),h=Object(o.a)(m,2),v=h[0],p=h[1];return r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a={name:i,number:v},r=n.find((function(e){return e.name===a.name}));null!=r?window.confirm("Do you really want to update "+i+"?")&&(f(r.id,a).then((function(e){t(n.map((function(n){return n.id===r.id?e:n})))})),u("Updated","update")):d(a).then((function(e){t(n.concat(e)),u("New person added","add")})).catch((function(e){u(JSON.stringify(e.response.data.error),"remove")}))}},r.a.createElement("div",null,"name:",r.a.createElement("input",{value:i,onChange:function(e){s(e.target.value)}}),r.a.createElement("br",null),"number :",r.a.createElement("input",{value:v,onChange:function(e){p(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},p=function(e){var n=e.setFilter;return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Filter shown with"),r.a.createElement("input",{onChange:function(e){var t=e.target.value;n(""===t?null:t)}}))},E=function(e){var n=e.name,t=e.number,a=e.handleRemoveEvent;return r.a.createElement("li",null,n,": ",t,r.a.createElement("button",{onClick:a},"Remove"))},b=(t(13),function(e){var n=e.message,t=e.style;return null===n?null:r.a.createElement("div",{className:t},n)}),g=function(){var e=Object(a.useState)([]),n=Object(o.a)(e,2),t=n[0],u=n[1],l=Object(a.useState)(null),c=Object(o.a)(l,2),i=c[0],s=c[1],d=Object(a.useState)({message:null,style:"nada"}),f=Object(o.a)(d,2),g=f[0],w=f[1];Object(a.useEffect)((function(){m().then((function(e){return u(e)}))}),[]);var y=function(e,n){w({message:e,style:n}),setTimeout((function(){w({msg:null,style:"uusi"})}),4e3)},O=t.filter((function(e){return null===i||!!e.name.toLowerCase().includes(i.toLowerCase())}));return console.log(g),r.a.createElement("div",null,r.a.createElement(b,{message:g.message,style:g.style}),r.a.createElement("h2",null,"Phonebook"),r.a.createElement(p,{setFilter:s}),r.a.createElement("h2",null,"Add new"),r.a.createElement(v,{persons:t,setPersons:u,handleMessageChange:y}),r.a.createElement("h2",null,"Numbers"),r.a.createElement("ul",null,O.map((function(e){return r.a.createElement(E,{key:e.id,name:e.name,number:e.number,handleRemoveEvent:function(){return n=e.id,void(window.confirm("Are you sure you want to delete ".concat(t.find((function(e){return e.id===n})).name,"?"))&&(h(n).then(u(t.filter((function(e){return e.id!==n})))),y("Removed","remove")));var n}})}))))};l.a.render(r.a.createElement(g,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.f812d9ee.chunk.js.map